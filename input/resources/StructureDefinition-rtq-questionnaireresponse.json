{
  "resourceType": "StructureDefinition",
  "id": "rtq-questionnaireresponse",
  "url": "http://hl7.org/fhir/rtq/StructureDefinition/rtq-questionnaireresponse",
  "name": "RTQQuestionnaireResponse",
  "title": "RTQ QuestionnaireResponse",
  "status": "draft",
  "fhirVersion": "5.0.0",
  "kind": "resource",
  "abstract": false,
  "type": "QuestionnaireResponse",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/QuestionnaireResponse",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "QuestionnaireResponse",
        "path": "QuestionnaireResponse",
        "short": "RTQ QuestionnaireResponse for regulatory applications",
        "description": "A structured set of answers to a regulatory questionnaire in the context of regulated product applications and lifecycle management."
      },
      {
        "id": "QuestionnaireResponse.meta",
        "path": "QuestionnaireResponse.meta",
        "short": "Metadata (required)",
        "description": "Metadata about the resource, required for versioning and tracking in regulatory systems.",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.meta.versionId",
        "path": "QuestionnaireResponse.meta.versionId",
        "short": "Version ID",
        "description": "Version-specific identifier for the QuestionnaireResponse, required for audit and traceability.",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.meta.lastUpdated",
        "path": "QuestionnaireResponse.meta.lastUpdated",
        "short": "Last updated timestamp",
        "description": "Timestamp when the QuestionnaireResponse was last modified, required for regulatory tracking.",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.meta.profile",
        "path": "QuestionnaireResponse.meta.profile",
        "short": "Conformance to RTQ profile",
        "description": "Declares that this QuestionnaireResponse conforms to the RTQ regulatory profile.",
        "min": 1,
        "fixedCanonical": "http://hl7.org/fhir/rtq/StructureDefinition/rtq-questionnaireresponse",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.identifier",
        "path": "QuestionnaireResponse.identifier",
        "short": "Business identifier(s)",
        "description": "Business identifiers assigned to the QuestionnaireResponse by company or regulator.",
        "min": 1,
        "max": "1",
        "mustSupport": true,
        "slicing": {
          "discriminator": { "type": "value", "path": "type.coding.code" },
          "rules": "open"
        }
      },
      {
        "id": "QuestionnaireResponse.identifier:company",
        "path": "QuestionnaireResponse.identifier",
        "sliceName": "company",
        "short": "Company-assigned identifier",
        "description": "Identifier assigned by the marketing authorization holder or applicant.",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.identifier:company.type.coding",
        "path": "QuestionnaireResponse.identifier.type.coding",
        "short": "Company identifier type",
        "description": "Fixed type indicating the identifier originates from the company/MAH.",
        "min": 1,
        "max": "1",
        "fixedCoding": {
          "system": "http://hl7.org/fhir/rtq/CodeSystem/rtq-identifier-type",
          "code": "company",
          "display": "Company Identifier"
        }
      },
      {
        "id": "QuestionnaireResponse.identifier:regulator",
        "path": "QuestionnaireResponse.identifier",
        "sliceName": "regulator",
        "short": "Regulator-assigned identifier",
        "description": "Identifier assigned by the regulatory authority (e.g., procedure or submission number).",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.identifier:regulator.type.coding",
        "path": "QuestionnaireResponse.identifier.type.coding",
        "short": "Regulator identifier type",
        "description": "Fixed type indicating the identifier originates from the regulatory authority.",
        "min": 1,
        "max": "1",
        "fixedCoding": {
          "system": "http://hl7.org/fhir/rtq/CodeSystem/rtq-identifier-type",
          "code": "regulator",
          "display": "Regulatory Authority Identifier"
        }
      },
      {
        "id": "QuestionnaireResponse.author",
        "path": "QuestionnaireResponse.author",
        "short": "Regulatory Authority contact details",
        "description": "The regulatory authority that authored or approved the originating question.",
        "min": 1,
        "max": "1",
        "type": [{ "code": "Reference" }],
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained",
        "path": "QuestionnaireResponse.author.contained",
        "short": "Contained regulatory authority",
        "description": "Inline (contained) Organization resource describing the regulatory authority.",
        "type": [{ "code": "Organization" }],
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.identifier",
        "path": "QuestionnaireResponse.author.contained.identifier",
        "short": "Identifier of the Regulatory authority",
        "description": "Official identifier(s) of the regulatory authority (e.g., OID, ORG-ID, DUNS).",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.name",
        "path": "QuestionnaireResponse.author.contained.name",
        "short": "Regulatory authority name",
        "description": "Official name of the regulatory authority (e.g., European Medicines Agency).",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.address",
        "path": "QuestionnaireResponse.author.contained.address",
        "short": "Authority address",
        "description": "Physical address of the regulatory authority.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.address.text",
        "path": "QuestionnaireResponse.author.contained.address.text",
        "short": "Full address",
        "description": "Full formatted address as a single string.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.address.line",
        "path": "QuestionnaireResponse.author.contained.address.line",
        "short": "Street address",
        "description": "Street address lines.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.address.city",
        "path": "QuestionnaireResponse.author.contained.address.city",
        "short": "City",
        "description": "City or municipality.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.address.district",
        "path": "QuestionnaireResponse.author.contained.address.district",
        "short": "District",
        "description": "District or sub-division within the city.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.address.state",
        "path": "QuestionnaireResponse.author.contained.address.state",
        "short": "State/Province",
        "description": "State, province, or region.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.address.postalCode",
        "path": "QuestionnaireResponse.author.contained.address.postalCode",
        "short": "Postal code",
        "description": "Postal or ZIP code.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.address.country",
        "path": "QuestionnaireResponse.author.contained.address.country",
        "short": "Two-letter country code",
        "description": "Country where the company is based (ISO 3166-1 alpha-2).",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.contact.telecom",
        "path": "QuestionnaireResponse.author.contained.contact.telecom",
        "short": "Authority contact for this questionnaire response",
        "description": "Contact details (email and phone) for the regulatory authority.",
        "mustSupport": true,
        "slicing": {
          "discriminator": [{ "type": "value", "path": "system" }],
          "rules": "open"
        }
      },
      {
        "id": "QuestionnaireResponse.author.contained.contact.telecom:email",
        "path": "QuestionnaireResponse.author.contained.contact.telecom",
        "sliceName": "email",
        "short": "Email address",
        "description": "Email contact for the regulatory authority.",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.contact.telecom:email.system",
        "path": "QuestionnaireResponse.author.contained.contact.telecom.system",
        "short": "Contact type = email",
        "description": "Fixed value identifying this as an email address.",
        "min": 1,
        "max": "1",
        "fixedCode": "email"
      },
      {
        "id": "QuestionnaireResponse.author.contained.contact.telecom:email.value",
        "path": "QuestionnaireResponse.author.contained.contact.telecom.value",
        "short": "Email address value",
        "description": "The actual email address.",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.contact.telecom:phone",
        "path": "QuestionnaireResponse.author.contained.contact.telecom",
        "sliceName": "phone",
        "short": "Phone number",
        "description": "Phone contact for the regulatory authority.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.author.contained.contact.telecom:phone.system",
        "path": "QuestionnaireResponse.author.contained.contact.telecom.system",
        "short": "Contact type = phone",
        "description": "Fixed value identifying this as a phone number.",
        "min": 1,
        "max": "1",
        "fixedCode": "phone"
      },
      {
        "id": "QuestionnaireResponse.author.contained.contact.telecom:phone.value",
        "path": "QuestionnaireResponse.author.contained.contact.telecom.value",
        "short": "Phone number value",
        "description": "The actual phone number (E.164 format recommended).",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source",
        "path": "QuestionnaireResponse.source",
        "short": "Submitting company (contained)",
        "description": "The company (MAH or applicant) that submitted the QuestionnaireResponse â€” provided as a contained Organization.",
        "min": 1,
        "max": "1",
        "type": [{ "code": "Reference" }],
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained",
        "path": "QuestionnaireResponse.source.contained",
        "short": "Contained submitting company",
        "description": "Inline (contained) Organization resource describing the submitting company.",
        "type": [{ "code": "Organization" }],
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.identifier",
        "path": "QuestionnaireResponse.source.contained.identifier",
        "short": "Identifier of the Company",
        "description": "Company identifier(s) (e.g., DUNS, EudraGMDP Org ID).",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.name",
        "path": "QuestionnaireResponse.source.contained.name",
        "short": "Company legal name",
        "description": "Legal name of the marketing authorization holder or applicant.",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.address",
        "path": "QuestionnaireResponse.source.contained.address",
        "short": "Company address",
        "description": "Registered address of the company.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.address.text",
        "path": "QuestionnaireResponse.source.contained.address.text",
        "short": "Full address (formatted)",
        "description": "Full formatted company address.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.address.line",
        "path": "QuestionnaireResponse.source.contained.address.line",
        "short": "Street address",
        "description": "Street address components.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.address.city",
        "path": "QuestionnaireResponse.source.contained.address.city",
        "short": "City",
        "description": "City of the company headquarters or registered office.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.address.district",
        "path": "QuestionnaireResponse.source.contained.address.district",
        "short": "District",
        "description": "District or sub-division within the city.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.address.state",
        "path": "QuestionnaireResponse.source.contained.address.state",
        "short": "State/Province",
        "description": "State or region.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.address.postalCode",
        "path": "QuestionnaireResponse.source.contained.address.postalCode",
        "short": "Postal code",
        "description": "Postal code.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.address.country",
        "path": "QuestionnaireResponse.source.contained.address.country",
        "short": "Two-letter country code",
        "description": "Country where the company is based (ISO 3166-1 preferred).",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.contact.telecom",
        "path": "QuestionnaireResponse.source.contained.contact.telecom",
        "min": 1,
        "short": "Company contact points",
        "description": "Contact details (email and phone) for the submitting company.",
        "mustSupport": true,
        "slicing": {
          "discriminator": [{ "type": "value", "path": "system" }],
          "rules": "open"
        }
      },
      {
        "id": "QuestionnaireResponse.source.contained.contact.telecom:email",
        "path": "QuestionnaireResponse.source.contained.contact.telecom",
        "sliceName": "email",
        "short": "Company email",
        "description": "Email contact for regulatory correspondence.",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.contact.telecom:email.system",
        "path": "QuestionnaireResponse.source.contained.contact.telecom.system",
        "min": 1,
        "max": "1",
        "short": "Contact type = email",
        "description": "Fixed value indicating email.",
        "fixedCode": "email"
      },
      {
        "id": "QuestionnaireResponse.source.contained.contact.telecom:email.value",
        "path": "QuestionnaireResponse.source.contained.contact.telecom.value",
        "short": "Email address",
        "description": "The actual email address for submission-related communication.",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.contact.telecom:phone",
        "path": "QuestionnaireResponse.source.contained.contact.telecom",
        "sliceName": "phone",
        "short": "Company phone",
        "description": "Phone contact for the company.",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.source.contained.contact.telecom:phone.system",
        "path": "QuestionnaireResponse.source.contained.contact.telecom.system",
        "short": "Contact type = phone",
        "description": "Fixed value indicating phone.",
        "min": 1,
        "max": "1",
        "fixedCode": "phone"
      },
      {
        "id": "QuestionnaireResponse.source.contained.contact.telecom:phone.value",
        "path": "QuestionnaireResponse.source.contained.contact.telecom.value",
        "short": "Phone number",
        "description": "The actual phone number.",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.item.linkId",
        "path": "QuestionnaireResponse.item.linkId",
        "short": "Question link ID",
        "description": "Required linkId to match the question in the corresponding Questionnaire.",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.item.text.extension:rendering-xhtml",
        "path": "QuestionnaireResponse.item.text.extension",
        "sliceName": "rendering-xhtml",
        "short": "Rich text question",
        "description": "Allows rich formatting (e.g., tables, bold) of the question text using XHTML.",
        "max": "1",
        "type": [{
          "code": "Extension",
          "profile": ["http://hl7.org/fhir/StructureDefinition/rendering-xhtml"]
        }],
        "mustSupport": true
      },
      {
        "id": "QuestionnaireResponse.item.answer.extension:rendering-xhtml",
        "path": "QuestionnaireResponse.item.answer.extension",
        "sliceName": "rendering-xhtml",
        "short": "Rich text answer",
        "description": "Allows rich formatting of the answer (e.g., detailed explanations, tables) using XHTML.",
        "max": "1",
        "type": [{
          "code": "Extension",
          "profile": ["http://hl7.org/fhir/StructureDefinition/rendering-xhtml"]
        }],
        "mustSupport": true
      }
    ]
  }
}