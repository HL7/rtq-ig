{
  "resourceType": "StructureDefinition",
  "id": "-rtq-questionnaire",
  "url": "http://hl7.org/fhir/uv/rtq/StructureDefinition/rtq-questionnaire",
  "version": "0.1.0",
  "name": "RTQQuestionnaire",
  "title": "Regulatory Questionnaire",
  "status": "draft",
  "experimental": true,
  "date": "2025-11-21",
  "description": "Profile of Questionnaire for regulatory exchange of questions, issues and information requests between regulators and industry in the medicinal product lifecycle.",
  "fhirVersion": "5.0.0",
  "kind": "resource",
  "abstract": false,
  "type": "Questionnaire",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Questionnaire",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Questionnaire.meta",
        "path": "Questionnaire.meta",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.meta.versionId",
        "path": "Questionnaire.meta.versionId",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.meta.lastUpdated",
        "path": "Questionnaire.meta.lastUpdated",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.meta.profile",
        "path": "Questionnaire.meta.profile",
        "min": 1,
        "max": "1",
        "fixedCanonical": "http://hl7.org/fhir/uv/rtq/StructureDefinition/rtq-questionnaire",
        "mustSupport": true
      },
      {
        "id": "Questionnaire.identifier",
        "path": "Questionnaire.identifier",
        "min": 1,
        "max": "2",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "type.coding.code"
            }
          ],
          "ordered": false,
          "rules": "closed"
        },
        "mustSupport": true
      },
      {
        "id": "Questionnaire.identifier:company",
        "path": "Questionnaire.identifier",
        "sliceName": "company",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Questionnaire.identifier:company.type.coding",
        "path": "Questionnaire.identifier.type.coding",
        "min": 1,
        "max": "1",
        "fixedCoding": {
          "system": "http://hl7.org/fhir/uv/rtq/CodeSystem/rtq-identifier-type",
          "code": "company-id",
          "display": "Company-issued Identifier"
        }
      },
      {
        "id": "Questionnaire.identifier:regulator",
        "path": "Questionnaire.identifier",
        "sliceName": "regulator",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Questionnaire.identifier:regulator.type.coding",
        "path": "Questionnaire.identifier.type.coding",
        "min": 1,
        "max": "1",
        "fixedCoding": {
          "system": "http://hl7.org/fhir/uv/rtq/CodeSystem/rtq-identifier-type",
          "code": "regulator-id",
          "display": "Regulator-issued Identifier"
        }
      },
      {
        "id": "Questionnaire.version",
        "path": "Questionnaire.version",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.text",
        "path": "Questionnaire.text",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.subjectType",
        "path": "Questionnaire.subjectType",
        "min": 1,
        "binding": {
          "strength": "extensible",
          "valueSet": "http://hl7.org/fhir/uv/rtq/ValueSet/rtq-questionnaire-type-vs"
        },
        "mustSupport": true
      },
      {
        "id": "Questionnaire.publisher",
        "path": "Questionnaire.publisher",
        "max": "0"
      },
      {
        "id": "Questionnaire.contact",
        "path": "Questionnaire.contact",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "type.coding.code"
            }
          ],
          "ordered": false,
          "rules": "closed"
        },
        "min": 2,
        "max": "2",
        "mustSupport": true,
        "short": "Contact parties for regulatory questionnaire exchange",
        "definition": "Exactly two contacts must be present: the regulator (sender) and the Market Authorization Holder (receiver)."
      },
      {
        "id": "Questionnaire.contact:sender",
        "path": "Questionnaire.contact",
        "sliceName": "sender",
        "min": 1,
        "max": "1",
        "mustSupport": true,
        "short": "Contact details for the Regulator",
        "definition": "Contact information for the regulatory authority (e.g., FDA, EMA, PMDA) sending or reviewing the questionnaire."
      },
      {
        "id": "Questionnaire.contact:receiver",
        "path": "Questionnaire.contact",
        "sliceName": "receiver",
        "min": 1,
        "max": "1",
        "mustSupport": true,
        "short": "Contact details for the Market Authorization Holder (MAH)",
        "definition": "Contact information for the Market Authorization Holder (MAH) or applicant receiving the questionnaire."
      },
      {
        "id": "Questionnaire.contact.name",
        "path": "Questionnaire.contact.name",
        "min": 1,
        "max": "1",
        "mustSupport": true,
        "short": "Structured name of the contact person"
      },
      {
        "id": "Questionnaire.contact.name.text",
        "path": "Questionnaire.contact.name.text",
        "min": 1,
        "max": "1",
        "mustSupport": true,
        "short": "Job title",
        "definition": "Contains the job title of the contact person (e.g., 'Senior Scientific Reviewer', 'Head of Regulatory Affairs', 'Pharmacovigilance Lead')."
      },
      {
        "id": "Questionnaire.contact.name.family",
        "path": "Questionnaire.contact.name.family",
        "min": 1,
        "max": "1",
        "mustSupport": true,
        "short": "Family name / surname"
      },
      {
        "id": "Questionnaire.contact.name.given",
        "path": "Questionnaire.contact.name.given",
        "min": 1,
        "max": "*",
        "mustSupport": true,
        "short": "Given name(s)"
      },
      {
        "id": "Questionnaire.contact.name.prefix",
        "path": "Questionnaire.contact.name.prefix",
        "min": 0,
        "max": "*",
        "mustSupport": true,
        "short": "Prefix (e.g., Dr., Mr., Ms., Prof.)"
      },
      {
        "id": "Questionnaire.contact:sender.telecom",
        "path": "Questionnaire.contact.telecom",
        "min": 1,
        "max": "*",
        "mustSupport": true,
        "short": "Communication channels for the regulator"
      },
      {
        "id": "Questionnaire.contact:receiver.telecom",
        "path": "Questionnaire.contact.telecom",
        "min": 1,
        "max": "*",
        "mustSupport": true,
        "short": "Communication channels for the MAH"
      },
      {
        "id": "Questionnaire.item",
        "path": "Questionnaire.item",
        "mustSupport": true,
        "short": "Question in the regulatory questionnaire"
      },
      {
        "id": "Questionnaire.item.code",
        "path": "Questionnaire.item.code",
        "min": 1,
        "max": "*",
        "mustSupport": true,
        "short": "CTD-based category code that classifies the regulatory topic of this question/group",
        "definition": "A required code from the RTQ CTD Categories CodeSystem (or an allowed extension of it) that identifies which section, subsection, or specific regulatory topic within a medicinal product dossier this questionnaire item pertains to. This enables precise mapping and automated routing in regulatory processes.",
        "comment": "Examples: '2-3-s-4-2' = Nonclinical Overview, '3-2-p-5-3' = Microbiological quality control, etc.",
        "binding": {
          "strength": "extensible",
          "description": "Codes from the full CTD hierarchy as defined in the RTQ CTD Categories CodeSystem. Additional codes beyond the standard CTD structure may be defined locally or in future versions of the CodeSystem when new regulatory topics are required.",
          "valueSet": "http://hl7.org/fhir/uv/rtq/ValueSet/ctd-categories-full"
        }
      },
      {
        "id": "Questionnaire.item.code.system",
        "path": "Questionnaire.item.code.system",
        "min": 1,
        "fixedUri": "http://hl7.org/fhir/uv/rtq/CodeSystem/ctd-categories-full",
        "mustSupport": true
      },
      {
        "id": "Questionnaire.item.code.code",
        "path": "Questionnaire.item.code.code",
        "min": 1,
        "mustSupport": true,
        "short": "CTD section/subsection code (e.g., 2-3-s-4-2-1)"
      },
      {
        "id": "Questionnaire.item.code.display",
        "path": "Questionnaire.item.code.display",
        "min": 1,
        "mustSupport": true,
        "short": "Human-readable title of the CTD category"
      },
      {
        "id": "Questionnaire.item.text",
        "path": "Questionnaire.item.text",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.item.text.extension",
        "path": "Questionnaire.item.text.extension",
        "slicing": {
          "discriminator": [{ "type": "value", "path": "url" }],
          "rules": "open"
        },
        "min": 1
      },
      {
        "id": "Questionnaire.item.text.extension:rendering-xhtml",
        "path": "Questionnaire.item.text.extension",
        "sliceName": "rendering-xhtml",
        "min": 1,
        "max": "1",
        "type": [{
          "code": "Extension",
          "profile": ["http://hl7.org/fhir/StructureDefinition/rendering-xhtml"]
        }],
        "mustSupport": true
      }
    ]
  }
}