{
  "resourceType": "StructureDefinition",
  "id": "RegulatoryQuestionnaire",
  "url": "http://hl7.org/fhir/uv/brr/StructureDefinition/RegulatoryQuestionnaire",
  "version": "1.1.5",
  "name": "RegulatoryQuestionnaire",
  "title": "BRR Regulatory Questionnaire Profile",
  "status": "active",
  "date": "2025-11-11",
  "publisher": "HL7 Biopharmaceutical Regulatory Requirements (BRR) Work Group",
  "contact": [
    {
      "name": "HL7 BRR WG",
      "telecom": [
        {
          "system": "url",
          "value": "http://www.hl7.org/Special/committees/brr"
        }
      ]
    }
  ],
  "description": "A profile on Questionnaire for structured regulatory questions from a health authority to a market authorization holder during the review of a regulatory application (e.g., EMA Type II Variation). Supports sender/recipient, rich text questions, and CTD section mapping.",
  "fhirVersion": "5.0.0",
  "kind": "resource",
  "abstract": false,
  "type": "Questionnaire",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Questionnaire",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Questionnaire.meta",
        "path": "Questionnaire.meta",
        "min": 1
      },
      {
        "id": "Questionnaire.meta.versionId",
        "path": "Questionnaire.meta.versionId",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.meta.lastUpdated",
        "path": "Questionnaire.meta.lastUpdated",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.meta.profile",
        "path": "Questionnaire.meta.profile",
        "min": 1,
        "fixedUri": "http://hl7.org/fhir/uv/brr/StructureDefinition/RegulatoryQuestionnaire"
      },
      {
        "id": "Questionnaire.identifier",
        "path": "Questionnaire.identifier",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "system"
            }
          ],
          "rules": "open"
        },
        "min": 2
      },
      {
        "id": "Questionnaire.identifier:qa-request",
        "path": "Questionnaire.identifier",
        "sliceName": "qa-request",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Questionnaire.identifier:qa-request.system",
        "path": "Questionnaire.identifier.system",
        "patternUri": "http://hl7.org/fhir/uv/brr/identifier/qa-request"
      },
      {
        "id": "Questionnaire.identifier:procedure-number",
        "path": "Questionnaire.identifier",
        "sliceName": "procedure-number",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Questionnaire.identifier:procedure-number.system",
        "path": "Questionnaire.identifier.system",
        "patternUri": "https://ema.europa.eu/procedure-number"
      },
      {
        "id": "Questionnaire.version",
        "path": "Questionnaire.version",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.name",
        "path": "Questionnaire.name",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.title",
        "path": "Questionnaire.title",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.status",
        "path": "Questionnaire.status",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.subjectType",
        "path": "Questionnaire.subjectType",
        "min": 1,
        "patternCode": "MedicinalProductDefinition"
      },
      {
        "id": "Questionnaire.date",
        "path": "Questionnaire.date",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.contact",
        "path": "Questionnaire.contact",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "purpose.coding.code"
            }
          ],
          "rules": "closed"
        },
        "min": 2,
        "max": "2"
      },
      {
        "id": "Questionnaire.contact:sender",
        "path": "Questionnaire.contact",
        "sliceName": "sender",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Questionnaire.contact:sender.purpose",
        "path": "Questionnaire.contact.purpose",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://hl7.org/fhir/uv/brr/CodeSystem/contact-purpose",
              "code": "SENDER"
            }
          ]
        }
      },
      {
        "id": "Questionnaire.contact:sender.telecom",
        "path": "Questionnaire.contact.telecom",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.contact:sender.address",
        "path": "Questionnaire.contact.address",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.contact:sender.extension:signature",
        "path": "Questionnaire.contact.extension",
        "sliceName": "signature",
        "min": 1,
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/uv/brr/StructureDefinition/contact-signature"
            ]
          }
        ]
      },
      {
        "id": "Questionnaire.contact:recipient",
        "path": "Questionnaire.contact",
        "sliceName": "recipient",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Questionnaire.contact:recipient.purpose",
        "path": "Questionnaire.contact.purpose",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://hl7.org/fhir/uv/brr/CodeSystem/contact-purpose",
              "code": "RECIPIENT"
            }
          ]
        }
      },
      {
        "id": "Questionnaire.contact:recipient.telecom",
        "path": "Questionnaire.contact.telecom",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.contact:recipient.address",
        "path": "Questionnaire.contact.address",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.contact:recipient.extension:signature",
        "path": "Questionnaire.contact.extension",
        "sliceName": "signature",
        "min": 1,
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/uv/brr/StructureDefinition/contact-signature"
            ]
          }
        ]
      },
      {
        "id": "Questionnaire.effectivePeriod",
        "path": "Questionnaire.effectivePeriod",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.text",
        "path": "Questionnaire.text",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.text.status",
        "path": "Questionnaire.text.status",
        "patternCode": "generated"
      },
      {
        "id": "Questionnaire.item",
        "path": "Questionnaire.item",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.item.linkId",
        "path": "Questionnaire.item.linkId",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.item.code",
        "path": "Questionnaire.item.code",
        "min": 1,
        "max": "*",
        "mustSupport": true,
        "binding": {
          "strength": "required",
          "valueSet": "http://hl7.org/fhir/uv/brr/ValueSet/ctd-section"
        }
      },
      {
        "id": "Questionnaire.item.type",
        "path": "Questionnaire.item.type",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.item.text",
        "path": "Questionnaire.item.text",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Questionnaire.item.text.extension:richText",
        "path": "Questionnaire.item.text.extension",
        "sliceName": "richText",
        "min": 1,
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/uv/brr/StructureDefinition/questionnaire-itemRichText"
            ]
          }
        ]
      }
    ]
  }
}